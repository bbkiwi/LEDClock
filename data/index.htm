<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>LED Control</title>
    <link href='main.css' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="dist/simplepicker.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="144x144"  href="/favicon-144x144.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#00878f">
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'>
    <script src="WebSocket.js" type="text/javascript"></script>

	<style>
	  body { font-family: 'Roboto'; }
		.event-log {
		  font-family: consolas, Monaco, monospace;
		  margin: 10px 5px;
		  line-height: 1;
		  border: 1px solid #4c4c4c;
		  height: auto;
		  width: 90%;
		  padding: 2px 6px;
		  color: #4c4c4c;
		  white-space: pre;
		}
        .btn-group button {
            background-color: #04AA6D; /* Green background */
            border: 1px solid green; /* Green border */
            color: white; /* White text */
            padding: 10px 24px; /* Some padding */
            cursor: pointer; /* Pointer/hand icon */
            float: center; /* Float the buttons side by side */
        }

        /* Clear floats (clearfix hack) */
        .btn-group:after {
          content: "";
          clear: both;
          display: table;
        }

        .btn-group button:not(:last-child) {
          border-right: none; /* Prevent double borders */
        }

        /* Add a background color on hover */
        .btn-group button:hover {
          background-color: #3e8e41;
        }
  </style>
</head>

<body>
<button onclick="toggleShowHide('Clock-Control')">Clock Control</button>
<button onclick="toggleShowHide('Display-Control')">Display Control</button>
<button onclick="toggleShowHide('Alarm-Control')">Alarm Control</button>
<div id="Clock-Control" style="display: block;">
    <center>
        <header>
            <h1>Clock Control</h1>
        </header>
        <div class="btn-group">
             <p style="margin:8px 0px">
               <button id="whattimeb" class="button"  onclick="whattimeAnswer();">Time?</button><br>
               <button id="whattime" class="button">What time?</button></p>
             <p style="margin:8px 0px"><button id="pattern" class="button" onclick="patternEffect();">Pattern</button>
             <select id="numpattern">
                <option value="0">None</option>
                <option value="25">Rainbow</option>
                <option value="5">Worms</option>
                <option value="7">CAuto</option>
                <option value="19">Fire</option>
                <option value="21">FireFly</option>
                <option value="41">Wipe</option>
                <option value="26">WipeT</option>
                <option value="50">Random</option>
             </select><br>
             <input type="text" size = "4" disabled value='parm1'>
             <input type="text" size = "4" disabled value='parm2'>
             <input type="text" size = "4" disabled value='parm3'><br>
             <input type="text" size = "4" id="pat_parm1" value=0>
             <input type="text" size = "4" id="pat_parm2" value=0>
             <input type="text" size = "4" id="pat_parm3" value=0> </p>

             <p style="margin:8px 0px"><button id="melody" class="button" onclick="melodyEffect();">Melody</button></p>
             <p style="margin:8px 0px"><button id="sunset" class="button" onclick="calcSunsets();">Calc Sunsets</button></p>
       </div>
    </center>
</div>
<div id="Display-Control" style="display: none;">
    <center>
        <header>
            <h1>Display Control</h1>
        </header>
        <div>
            <table>
                <tr>
                    <td style="width:14.4px; text-align: right">R: </td>
                    <td><input class="enabled" id="r" type="range" min="0" max="1023" step="1" onmouseup="sendRGB();" ontouchend="sendRGB();" value="0"></td>
                </tr>
                <tr>
                    <td style="width:14.4px; text-align: right">G: </td>
                    <td><input class="enabled" id="g" type="range" min="0" max="1023" step="1" onmouseup="sendRGB();" ontouchend="sendRGB();"  value="0"></td>
                </tr>
                <tr>
                    <td style="width:14.4px; text-align: right">B: </td>
                    <td><input class="enabled" id="b" type="range" min="0" max="1023" step="1" onmouseup="sendRGB();" ontouchend="sendRGB();"  value="0"></td>
                </tr>
            </table>
       </div>


       <div class="btn-group">
             <button id="setbackground" class="button"  onclick="setbackground();">Back</button>
             <button id="set12" class="button"  onclick="set12();">12</button>
             <button id="setquarter" class="button"  onclick="setquarter();">Quad</button>
             <button id="setdivision" class="button"  onclick="setdivision();">Div</button>
       </div>
       <div class="btn-group">
            <table>
                <tr>
                    <td style="width:14.4px; text-align: right"><button id="sethour" class="button"  onclick="sethour();">Hour</button> </td>
                     <td style="width:14.4px; text-align: right"> <button id="setminute" class="button"  onclick="setminute();">Min</button></td>
                     <td style="width:14.4px; text-align: right"> <button id="setsecond" class="button"  onclick="setsecond();">Sec</button></td>
                     <td style="width:14.4px; text-align: right"> <button id="setdispind" class="button"  onclick="setdispind();">Disp#</button></td>
                </tr>
                <tr>
                    <td style="width:14.4px; text-align: right">
                      <select id="widthhour">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                      </select></td>
                     <td style="width:14.4px; text-align: right">
                       <select id="widthminute">
                        <option value="-1">Hide</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                      </select> </td>
                     <td style="width:14.4px; text-align: right">
                        <select id="widthsecond">
                        <option value="-1">Hide</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        </select>
                     </td>
                     <td style="width:14.4px; text-align: right">
                        <select id="dispind">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">night</option>
                        </select>
                     </td>
                 </tr>
                 <tr>
                    <td style="width:14.4px; text-align: right"> </td>
                    <td style="width:14.4px; text-align: right"><input id="blinkminute" type="checkbox" checked="true">blink </td>
                    <td style="width:14.4px; text-align: right"> </td>
                    <td style="width:14.4px; text-align: right"> </td>
                </tr>
            </table>
       <p style="margin:8px 0px"><button id="requestsaveconfig" class="button" onclick="requestSaveConfig();">Save Config</button></p>
       </div>
    </center>
</div>

<div id="Alarm-Control" style="display: none;">
    <center>
        <header>
            <h1>Alarm Control</h1>
        </header>
        <div class="btn-group">
          <button class="simplepicker-btn">Choose Date and Time</button>
          <p style="margin:8px 0px"><button id="saveddatetime" class="button">Saved Date Time</button></p>
          <p style="margin:8px 0px"><button id="type" class="button" onclick="savetype();">Type</button>
          <input type="text" id="alarmtype" value=1><br>
             <input type="text" size = "4" disabled value='parm1'>
             <input type="text" size = "4" disabled value='parm2'>
             <input type="text" size = "4" disabled value='parm3'><br>
             <input type="text" size = "4" id="al_parm1" value=0>
             <input type="text" size = "4" id="al_parm2" value=0>
             <input type="text" size = "4" id="al_parm3" value=0> </p>

             <p style="margin:8px 0px"><button id="repeat" class="button" onclick="saverepeat();">Repeat</button>
             <input type="text" id="alarmrepeat" value=86400></p>
             <p style="margin:8px 0px"><button id="duration" class="button" onclick="saveduration();">Duration</button>
             <input type="text" id="alarmduration" value=10000></p>
             <p style="margin:8px 0px"><button id="setalarm" class="button" onclick="setalarm();">Set Alarm</button>
             <input type="text" id="alarmnum" value=1></p>
             <p style="margin:8px 0px"><button id="requestsaveconfig" class="button" onclick="requestSaveConfig();">Save Config</button></p>
        </div>
    </center>
</div>

  <div class="picker-area">
  <h2>Event logs:</h2>
  <div class="event-log"></div>
  <script src="dist/simplepicker.js"></script>
  <script>
    let simplepicker = new SimplePicker(
	'.picker-area',
	{
      zIndex: 10,
	  compactMode: true,
	  disableTimeSection: false,
    });

    //simplepicker.open();

    const $button = document.querySelector('.simplepicker-btn');
    const $eventLog = document.querySelector('.event-log');
    $button.addEventListener('click', (e) => {
      simplepicker.open();
    });

    // $eventLog.innerHTML += '\n\n';
    simplepicker.on('submit', (date, readableDate) => {
	  //console.log(date.getDay(), date, readableDate);
      $eventLog.innerHTML = readableDate + '\n'+ $eventLog.innerHTML;
	  pickerTimeDate(date);
    });

    simplepicker.on('close', (date) => {
      $eventLog.innerHTML = 'Picker Closed'  + '\n' + $eventLog.innerHTML;
    });
  </script>
  </div>
</body>
</html>
